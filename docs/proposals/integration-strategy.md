# Integration Strategy: Presentations + GTD Dashboard + Apple Reminders

**Date**: 2025-10-27
**Status**: Ready for Implementation

---

## Current System Understanding

### Existing GTD Dashboard

**Location**: `/Users/joi/switchboard/GTD Dashboard.md`

**Generated by**: `lib/gtd-simple/dashboard.js`

**Content**:
- Active Projects (from #project:name tags)
- Unassigned tasks
- By Context (@context tags)
- By Status (today/this week/future/someday)
- Quick action links

**Data Source**: Apple Reminders cache (`reminders_cache.json`)

**Morning Routine** (`tools/gtd_morning.sh`):
1. Pull from Apple Reminders
2. Process GTD tags
3. Generate today's priorities

---

## Integration Strategy

### Two-Dashboard Approach (Recommended)

**Keep existing GTD Dashboard** for Apple Reminders tasks
**Add Presentations Dashboard** for presentation tracking
**Create unified view** that links both

```
/Users/joi/switchboard/
├── GTD Dashboard.md          # Existing (Apple Reminders tasks)
├── Presentations.md           # NEW (Presentations tracking)
└── Work Dashboard.md          # NEW (Unified view - optional)
```

### Why This Works

1. **Separation of Concerns**
   - GTD Dashboard = Tasks from Apple Reminders
   - Presentations Dashboard = Material/work tracking
   - Each system maintains its own data

2. **No Breaking Changes**
   - Existing GTD workflow continues unchanged
   - Presentations are additive
   - Can evolve independently

3. **Flexible Viewing**
   - View separately when focused
   - View unified when planning
   - Link between them for context

---

## Proposed Integration Points

### 1. Enhanced Morning Routine

**Update `tools/gtd_morning.sh`:**

```bash
#!/bin/bash

cd "$(dirname "$0")/.."

echo "☀️ Starting GTD Morning Routine..."
echo "================================"

echo "📥 Pulling latest from Apple Reminders..."
npm run reminders:pull

echo ""
echo "🏷️ Processing GTD tags and contexts..."
npm run gtd:process

echo ""
echo "📌 Generating today's priorities..."
node tools/generateTodayTodos.js

echo ""
echo "🎤 Refreshing presentations dashboard..."      # NEW
npm run pres:refresh                                 # NEW

echo ""
echo "✅ Morning routine complete!"
echo "📂 Dashboards updated:"
echo "   - Tasks: GTD/dashboard.md"                  # UPDATED
echo "   - Presentations: GTD/presentations.md"      # NEW
```

### 2. Unified Dashboard Generator (Optional)

**Create `lib/gtd-simple/unifiedDashboard.js`:**

```javascript
const { generateDashboard: generateGTD } = require('./dashboard');
const { generateDashboard: generatePres } = require('../../tools/presentations/generateDashboard');
const gtdService = require('../services/gtdService');
const presentations = require('../../tools/lib/presentations');

async function generateUnifiedDashboard() {
  const reminders = gtdService.loadRemindersCache();
  const presList = await presentations.listPresentations();
  const stats = await presentations.getStats();
  
  let markdown = `# Work Dashboard\n\n`;
  markdown += `Updated: ${new Date().toLocaleString()}\n\n`;
  
  // Presentations summary
  if (stats.inProgress > 0 || stats.urgent > 0) {
    markdown += `## 🎤 Presentations\n\n`;
    
    // Show urgent presentations
    const urgent = presList.filter(p => {
      if (p.status === 'archived' || p.status === 'completed') return false;
      const days = daysUntil(p.deadline);
      return p.priority === 'urgent' || (days !== null && days <= 7);
    });
    
    if (urgent.length > 0) {
      markdown += `### 🔴 Urgent\n`;
      urgent.forEach(p => {
        markdown += `- [[${p.title}]] - Due ${p.deadline}\n`;
      });
      markdown += `\n`;
    }
    
    // Show in-progress
    const inProgress = presList.filter(p => p.status === 'in-progress' && !urgent.includes(p));
    if (inProgress.length > 0) {
      markdown += `### 🟡 In Progress (${inProgress.length})\n`;
      inProgress.slice(0, 3).forEach(p => {
        markdown += `- [[${p.title}]]\n`;
      });
      if (inProgress.length > 3) {
        markdown += `- ...and ${inProgress.length - 3} more\n`;
      }
      markdown += `\n`;
    }
    
    markdown += `[View All Presentations →](Presentations.md)\n\n`;
  }
  
  // GTD Tasks from Apple Reminders
  markdown += `## ✅ Tasks\n\n`;
  
  // Import GTD dashboard content
  const gtdDashboard = generateGTD(reminders);
  // Extract just the Active Projects and By Status sections
  const sections = gtdDashboard.split('##').slice(1); // Skip header
  sections.forEach(section => {
    markdown += '##' + section;
  });
  
  markdown += `\n[View Full GTD Dashboard →](GTD Dashboard.md)\n`;
  
  return markdown;
}
```

### 3. Apple Reminders Integration Strategies

**Strategy A: Presentation Tasks with #presentation Tag** (Recommended)

```
In Apple Reminders:
"Finish Q4 board deck #presentation !!"
"Review slides for board meeting #presentation"

In presentations.json:
{
  "id": "pres-20251027-001",
  "title": "Q4 Board Presentation",
  "reminderTaskId": null  // Could link here
}
```

**Workflow:**
1. Add presentation to system: `work pres add ...`
2. Create reminder for actionable task: "Work on Q4 deck #presentation !!"
3. Dashboard shows both:
   - Presentation metadata (from presentations.json)
   - Task to work on it (from Apple Reminders)

**Benefits:**
- Reminders for notifications ("Work on deck today!")
- Presentations for context (URL, brief, notes, deadline)
- Loosely coupled - can work independently

**Strategy B: Link Reminder to Presentation**

```bash
# Create presentation
work pres add "URL" --title "Q4 Board"

# Get presentation ID: pres-20251027-001

# In Apple Reminders, add task with ID in notes:
"Work on Q4 board #presentation !!"
Notes: "pres-20251027-001"

# OR link from CLI (future):
work pres link-reminder pres-20251027-001 <reminder-uuid>
```

**Sync behavior:**
- When reminder completed → presentation could auto-complete
- When presentation completed → reminder could auto-complete
- Dashboard shows linked status

**Strategy C: Presentation Deadlines → Auto-Create Reminders** (Future)

```bash
# When adding presentation with deadline:
work pres add "URL" --title "Q4 Board" --deadline 2025-11-15

# Optionally auto-create reminder:
work pres add "URL" --title "Q4 Board" --deadline 2025-11-15 --create-reminder

# Creates in Apple Reminders:
"Q4 Board Presentation due #presentation"
Due: 2025-11-15
Notes: "pres-20251027-001"
```

---

## Recommended Implementation

### Phase 1A (This Week): Simple Integration

**1. Update morning routine** to generate presentations dashboard:

```bash
# Add to tools/gtd_morning.sh
npm run pres:refresh
```

**2. Manual workflow** for now:

```
Step 1: Add presentation
  work pres add "URL" --title "Q4 Board" --deadline 2025-11-15

Step 2: Create reminder manually (via Siri or Reminders app)
  "Work on Q4 board deck #presentation !!"
  
Step 3: Both show in respective dashboards
  - GTD Dashboard: Shows reminder task
  - Presentations Dashboard: Shows presentation metadata
  
Step 4: Work on presentation
  work pres start pres-20251027-001
  
Step 5: Complete both
  - Complete reminder in Apple Reminders
  - work pres complete pres-20251027-001
```

**Benefits:**
- No sync complexity
- Each system independent
- Manual but simple
- Can link via tags

### Phase 1B (Week 2): Dashboard Links

**Enhance presentations dashboard** to show related reminders:

```javascript
// In generateDashboard.js
// Check if any reminders have #presentation tag
// Show count in presentations dashboard

## 📋 Related Tasks (from Apple Reminders)

- 3 presentation tasks in Apple Reminders
- [View in GTD Dashboard](../GTD Dashboard.md)
```

**Enhance GTD dashboard** to show presentations:

```javascript
// In lib/gtd-simple/dashboard.js
// Add section at top showing urgent presentations

## 🎤 Presentations

- 2 presentations due this week
- [View Presentations Dashboard](Presentations.md)
```

### Phase 2 (Week 3-4): Smart Linking

**Link via presentation ID in reminder notes:**

1. Presentations dashboard reads reminders cache
2. Finds reminders with presentation IDs in notes
3. Shows linked status

```markdown
### [[Q4 Board Presentation]]
- Status: In Progress
- Due: 2025-11-15
- Links: [Slides](URL) | [Brief](Notion)
- 📋 Linked task: "Work on Q4 deck !!" (in Apple Reminders)
```

### Phase 3 (Future): Bidirectional Sync

**Auto-sync status:**
- Reminder completed → offer to complete presentation
- Presentation completed → offer to complete reminder
- Conflicts shown for manual resolution

---

## File Organization Strategy

### Current Layout
```
/Users/joi/obs-dailynotes/
  data/
    presentations.json           # Presentations data
  tools/
    lib/
      presentations.js           # Presentations logic
    presentations/
      generateDashboard.js       # Generates GTD/presentations.md
  GTD/
    presentations.md             # Generated presentations view
    
/Users/joi/switchboard/
  GTD Dashboard.md               # Generated GTD view (from Reminders)
  dailynote/
    reminders/
      reminders_cache.json       # Apple Reminders data
```

### Proposed Enhancement
```
/Users/joi/obs-dailynotes/
  lib/gtd-simple/
    dashboard.js                 # Enhance with presentations section
    unifiedDashboard.js          # NEW: Combined view
    
/Users/joi/switchboard/
  GTD Dashboard.md               # Enhanced with presentations link
  Presentations.md               # NEW: Presentations dashboard (symlink or copy)
  Work Dashboard.md              # NEW: Unified view (optional)
```

---

## Implementation Steps

### Week 1 (Now)
- [x] Build presentations tracking
- [x] Generate presentations dashboard
- [ ] Update morning routine to include pres:refresh
- [ ] Test with real presentations

### Week 2
- [ ] Enhance GTD dashboard with presentations summary
- [ ] Enhance presentations dashboard with reminder count
- [ ] Cross-link dashboards
- [ ] Document manual workflow

### Week 3
- [ ] Parse reminder notes for presentation IDs
- [ ] Show linked status in dashboards
- [ ] Add link-reminder command

### Week 4
- [ ] Add auto-create reminder option
- [ ] Add bidirectional status sync (optional)
- [ ] Conflict resolution UI

---

## Recommended Workflow for You

### Daily Use

**Morning:**
```bash
work morning    # Runs full routine including pres:refresh
# or
bash tools/gtd_morning.sh
```

**During Day:**
```bash
# Check what's urgent
work pres list

# Start working on something
work pres start pres-20251027-001

# Check tasks
open "GTD Dashboard.md"
```

**As Needed:**
```bash
# Add new presentation
work pres add "URL" --title "..." --deadline YYYY-MM-DD

# Create matching reminder via Siri:
"Work on [presentation name] #presentation !!"
```

### Apple Reminders Tag Convention

**For presentations:**
- Use `#presentation` tag
- Optionally include presentation ID in notes
- Use priority markers (!, !!)

**Examples:**
```
"Finish board deck #presentation !!"
"Review slides before meeting #presentation"
"Create financial slides #presentation #project:board"
```

---

## Next Steps

1. **Test current setup** with 2-3 real presentations
2. **Update morning routine** to include pres:refresh
3. **Use for 1 week** to validate workflow
4. **Decide on linking strategy** based on usage

**Question**: Should I update the morning routine now to include presentations dashboard generation?
